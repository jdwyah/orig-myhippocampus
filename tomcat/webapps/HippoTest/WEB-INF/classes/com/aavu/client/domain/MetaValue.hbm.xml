<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping package="com.aavu.client.domain">

	<class name="MetaValue" table="MetaValues" abstract="true">
		<meta attribute="generated-class" inherit="false">com.aavu.client.domain.generated.AbstractMetaValue</meta>
		<meta attribute="scope-class" inherit="false">public abstract</meta>

		<id name="id" type="long" column="metavalue_id">
			<generator class="native"></generator>
		</id>

		<discriminator column="discriminator" type="string"/>

<!--
		<many-to-one name="topic" class="Topic" column="topic_id" />
		
		
		
<!-
		<many-to-one name="meta" class="Meta" column="meta_id"/>				

--><!--		<property name="name" type="string" column="name">-->
<!--			<meta attribute="field-description">The type.</meta>-->
<!--			<meta attribute="use-in-equals">true</meta>-->
<!--		</property>-->

		
		<subclass name="MetaValueDate" discriminator-value="date">
			<meta attribute="generated-class" inherit="false">com.aavu.client.domain.generated.AbstractMetaValueDate</meta>
			<property name="dateVal" type="date" column="date">
				<meta attribute="field-description">The value in its string representation</meta>
			</property>

		</subclass>
		
		<subclass name="MetaValueText" discriminator-value="text">
			<meta attribute="generated-class" inherit="false">com.aavu.client.domain.generated.AbstractMetaValueText</meta>
			<property name="textVal" type="string" column="text">
				<meta attribute="field-description">The value in its string representation</meta>
				<meta attribute="use-in-equals">true</meta>
			</property>
		</subclass>
		
		<subclass name="MetaValueTopicList" discriminator-value="topiclist">
			<meta attribute="generated-class" inherit="false">com.aavu.client.domain.generated.AbstractMetaValueTopicList</meta>
			
			<list name="topics" lazy="false">
				<key column="meta_value_topic_list_id" />			
				<list-index column="topic_list_index"/>				
 				<one-to-many class="com.aavu.client.domain.Topic" />
			</list>
		</subclass>
		
		
	</class>

</hibernate-mapping>